<?xml version='1.0' encoding='UTF-8'?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" version="2.0"><channel><title>RealFake</title><link>https://realfake.top</link><description>BB Work No Money</description><copyright>RealFake</copyright><docs>http://www.rssboard.org/rss-specification</docs><generator>python-feedgen</generator><image><url>https://github.githubassets.com/favicons/favicon.svg</url><title>avatar</title><link>https://realfake.top</link></image><lastBuildDate>Sun, 28 Sep 2025 15:40:41 +0000</lastBuildDate><managingEditor>RealFake</managingEditor><ttl>60</ttl><webMaster>RealFake</webMaster><item><title>IndexTTS</title><link>https://realfake.top/post/IndexTTS.html</link><description>## ç‰ˆæœ¬æ›´æ–°


- **2025/09/08** IndexTTS-2 å‘å¸ƒï¼ˆé¦–ä¸ªæ”¯æŒç²¾ç¡®åˆæˆæ—¶é•¿æ§åˆ¶çš„è‡ªå›å½’é›¶æ ·æœ¬æ–‡æœ¬è½¬è¯­éŸ³æ¨¡å‹ï¼‰  
- **2025/05/14** IndexTTS-1.5 å‘å¸ƒï¼ˆæå‡æ¨¡å‹ç¨³å®šæ€§å’Œè‹±æ–‡è¡¨ç°ï¼‰  
- **2025/03/25** IndexTTS-1.0 å‘å¸ƒï¼ˆå¼€æ”¾æƒé‡å’Œæ¨ç†ä»£ç ï¼‰  
- **2025/02/12** è®ºæ–‡æäº¤è‡³ arXivï¼Œå¹¶å‘å¸ƒ Demo ä¸æµ‹è¯•é›†  

---

&lt;div style='text-align:left'&gt;
  &lt;a href='https://arxiv.org/abs/2506.21619'&gt;
    &lt;img src='https://img.shields.io/badge/ArXiv-2506.21619-red?logo=arxiv'/&gt;
  &lt;/a&gt;
  &lt;br/&gt;
  &lt;a href='https://github.com/index-tts/index-tts'&gt;
    &lt;img src='https://img.shields.io/badge/GitHub-Code-orange?logo=github'/&gt;
  &lt;/a&gt;
  &lt;a href='https://index-tts.github.io/index-tts2.github.io/'&gt;
    &lt;img src='https://img.shields.io/badge/GitHub-Demo-orange?logo=github'/&gt;
  &lt;/a&gt;
  &lt;br/&gt;
  &lt;a href='https://huggingface.co/spaces/IndexTeam/IndexTTS-2-Demo'&gt;
    &lt;img src='https://img.shields.io/badge/HuggingFace-Demo-blue?logo=huggingface'/&gt;
  &lt;/a&gt;
  &lt;a href='https://huggingface.co/IndexTeam/IndexTTS-2'&gt;
    &lt;img src='https://img.shields.io/badge/HuggingFace-Model-blue?logo=huggingface' /&gt;
  &lt;/a&gt;
  &lt;br/&gt;
  &lt;a href='https://modelscope.cn/studios/IndexTeam/IndexTTS-2-Demo'&gt;
    &lt;img src='https://img.shields.io/badge/ModelScope-Demo-purple?logo=modelscope'/&gt;
  &lt;/&gt;
  &lt;a href='https://modelscope.cn/models/IndexTeam/IndexTTS-2'&gt;
    &lt;img src='https://img.shields.io/badge/ModelScope-Model-purple?logo=modelscope'/&gt;
  &lt;/a&gt;
&lt;/div&gt;

---

## ğŸ¤– æ¨¡å‹ä¸‹è½½

| **HuggingFace**                                          | **ModelScope** |
|----------------------------------------------------------|----------------------------------------------------------|
| [IndexTTS-2](https://huggingface.co/IndexTeam/IndexTTS-2) | [IndexTTS-2](https://modelscope.cn/models/IndexTeam/IndexTTS-2) |
| [IndexTTS-1.5](https://huggingface.co/IndexTeam/IndexTTS-1.5) | [IndexTTS-1.5](https://modelscope.cn/models/IndexTeam/IndexTTS-1.5) |
| [IndexTTS](https://huggingface.co/IndexTeam/Index-TTS) | [IndexTTS](https://modelscope.cn/models/IndexTeam/Index-TTS) |

---

## ğŸ“„ è®ºæ–‡å‘å¸ƒ

* **IndexTTS2**

  &gt; Zhou, Siyi; Zhou, Yiquan; He, Yi; Zhou, Xun; Wang, Jinchao; Deng, Wei; Shu, Jingchen
  &gt; *IndexTTS2: A Breakthrough in Emotionally Expressive and Duration-Controlled Auto-Regressive Zero-Shot Text-to-Speech*
  &gt; arXiv preprint arXiv:2506.21619 (2025)
  &gt; [[Paper Link](https://arxiv.org/abs/2506.21619)](https://arxiv.org/abs/2506.21619)

* **IndexTTS1**

  &gt; Deng, Wei; Zhou, Siyi; Shu, Jingchen; Wang, Jinchao; Wang, Lu
  &gt; *IndexTTS: An Industrial-Level Controllable and Efficient Zero-Shot Text-To-Speech System*
  &gt; arXiv preprint arXiv:2502.05512 (2025)
  &gt; [[Paper Link](https://arxiv.org/abs/2502.05512)](https://arxiv.org/abs/2502.05512)


## ğŸ“¢ ç¤¾åŒºæ”¯æŒ

* QQ ç¾¤ï¼š553460296 (No.1) / 663272642 (No.4)
* Discordï¼š[Join](https://discord.gg/uT32E7KDmy)
* Emailï¼š[indexspeech@bilibili.com](mailto:indexspeech@bilibili.com)
* å®˜æ–¹ä»“åº“ï¼š[https://github.com/index-tts/index-tts](https://github.com/index-tts/index-tts)

## âš™ï¸ éƒ¨ç½²æ–¹æ³•

#### 1. å®‰è£…ä¾èµ–

```bash
# å®‰è£… uv (æ¨èçš„ä¾èµ–ç®¡ç†å·¥å…·)
pip install -U uv

# å…‹éš†é¡¹ç›®
git clone https://github.com/index-tts/index-tts.git &amp;&amp; cd index-tts
git lfs install
git lfs pull

# åŒæ­¥ä¾èµ–
uv sync --all-extras
# å¦‚æœç½‘ç»œæ…¢ï¼Œå¯ç”¨å›½å†…é•œåƒï¼š
uv sync --all-extras --default-index 'https://mirrors.aliyun.com/pypi/simple'
```

#### 2. ä¸‹è½½æ¨¡å‹

```bash
# HuggingFace
uv tool install 'huggingface-hub[cli,hf_xet]'
hf download IndexTeam/IndexTTS-2 --local-dir=checkpoints

# æˆ– ModelScope
uv tool install 'modelscope'
modelscope download --model IndexTeam/IndexTTS-2 --local_dir checkpoints
```

#### 3. æ£€æŸ¥ GPU ç¯å¢ƒ

```bash
uv run tools/gpu_check.py
```

#### 4. å¯åŠ¨ WebUI

```bash
uv run webui.py
# æµè§ˆå™¨è®¿é—® http://127.0.0.1:7860
```

#### 5. Python è°ƒç”¨ç¤ºä¾‹

```python
from indextts.infer_v2 import IndexTTS2

tts = IndexTTS2(cfg_path='checkpoints/config.yaml', model_dir='checkpoints', use_fp16=True)
text = 'Translate for me, what is a surprise!'
tts.infer(spk_audio_prompt='examples/voice_01.wav', text=text, output_path='gen.wav', verbose=True)
```

## è¿è¡Œä»£ç 

```
# .vscode/preview.yml
autoOpen: true # æ‰“å¼€å·¥ä½œç©ºé—´æ—¶æ˜¯å¦è‡ªåŠ¨å¼€å¯æ‰€æœ‰åº”ç”¨çš„é¢„è§ˆ
apps:
  - port: 7860 # åº”ç”¨çš„ç«¯å£
    run: uv run webui.py
    root: ./index-tts # åº”ç”¨çš„å¯åŠ¨ç›®å½•
    name: IndexTTS2  # åº”ç”¨åç§°
    description: IndexTTS2 # åº”ç”¨æè¿°
    autoOpen: true # æ‰“å¼€å·¥ä½œç©ºé—´æ—¶æ˜¯å¦è‡ªåŠ¨è¿è¡Œå‘½ä»¤ï¼ˆä¼˜å…ˆçº§é«˜äºæ ¹çº§ autoOpenï¼‰
    autoPreview: true # æ˜¯å¦è‡ªåŠ¨æ‰“å¼€é¢„è§ˆ, è‹¥æ— åˆ™é»˜è®¤ä¸ºtrue
```

## æ‰¹é‡ç”Ÿæˆ

```
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
'''
IndexTTS2 æ‰¹é‡ç”Ÿæˆï¼ˆç¦»çº¿/è„šæœ¬ç‰ˆï¼‰
- è‡ªåŠ¨å®‰è£…ä¾èµ–ï¼ˆå« modelscope / transformers / accelerate / WeTextProcessing / descript-audiotoolsï¼‰
- è¯»å– in/1.txtï¼ˆæ¯è¡Œä¸€å¥ï¼‰å’Œ in/ ä¸‹å…¨éƒ¨å‚è€ƒéŸ³é¢‘ï¼ˆwav/mp3/flac/m4a/oggï¼‰
- åšâ€œéŸ³é¢‘ Ã— æ–‡æœ¬â€ç¬›å¡å°”ç§¯ï¼Œç”Ÿæˆåˆ° out/
é»˜è®¤è·¯å¾„ï¼š
  --in_dir    /workspace/index-tts/in
  --out_dir   /workspace/index-tts/out
  --model_dir /workspace/index-tts/checkpoints
'''
import os, sys, time, subprocess, importlib
from pathlib import Path
import argparse

# -------------------- ä¾èµ–è‡ªåŠ¨å®‰è£…ï¼ˆå«ç‰ˆæœ¬å¯¹é½ &amp; ç‰¹æ®Šå›é€€ï¼‰ --------------------
PINNED_PKGS = {
    # åŸºç¡€
    'numpy': 'numpy&gt;=1.24',
    'scipy': 'scipy&gt;=1.10',
    'soundfile': 'soundfile&gt;=0.12',
    'librosa': 'librosa&gt;=0.10',
    'einops': 'einops&gt;=0.6',
    'sentencepiece': 'sentencepiece&gt;=0.1.99',
    'safetensors': 'safetensors&gt;=0.4.2',
    'tqdm': 'tqdm&gt;=4.66',
    'packaging': 'packaging&gt;=23.2',
    'omegaconf': 'omegaconf&gt;=2.3.0',
    # å…³é”®ä¸‰ä»¶å¥—
    'transformers': 'transformers&gt;=4.44.2',
    'accelerate': 'accelerate&gt;=0.26.0',
    'modelscope': 'modelscope&gt;=1.19.0',
    # DAC ä¾èµ–ï¼ˆå¯¼å…¥å audiotoolsï¼›ç‰¹æ®Šé€»è¾‘è§ä¸‹ï¼‰
    'descript-audiotools': 'descript-audiotools',
    # å¸¸è§å°è£…è¾…åŠ©ï¼ˆå¯é€‰ï¼‰
    'av': 'av&gt;=12.0.0',
    'ffmpeg-python': 'ffmpeg-python&gt;=0.2.0',
    # ä¸­æ–‡æ–‡æœ¬æ­£åˆ™åŒ–ï¼ˆæä¾› tn.chinese.normalizerï¼‰
    'WeTextProcessing': 'WeTextProcessing',
}

IMPORT_NAME_MAP = {
    'descript-audiotools': 'audiotools',
    'ffmpeg-python': 'ffmpeg',
    'WeTextProcessing': 'tn',   # å®‰è£…åŒ…å WeTextProcessingï¼Œå¯¼å…¥å tn
}

ALIYUN = 'https://mirrors.aliyun.com/pypi/simple/'
PYPI = 'https://pypi.org/simple/'

def _import_name_of(spec_key: str) -&gt; str:
    return IMPORT_NAME_MAP.get(spec_key, spec_key.split('[')[0].split('==')[0].split('&gt;=')[0])

def pip_install(args_list):
    print('[PIP]', ' '.join(map(str, args_list)))
    subprocess.check_call(args_list)

def install_general(spec_key: str, spec_value: str):
    '''é€šç”¨å®‰è£…ï¼šé»˜è®¤ç´¢å¼• -&gt; é˜¿é‡Œé•œåƒ'''
    mod = _import_name_of(spec_key)
    try:
        importlib.import_module(mod)
        return
    except Exception:
        pass
    try:
        pip_install([sys.executable, '-m', 'pip', 'install', '-U', spec_value])
        importlib.import_module(mod); return
    except Exception as e1:
        print(f'[WARN] install {spec_value} on default index failed: {e1}')
    try:
        pip_install([sys.executable, '-m', 'pip', 'install', '-U', spec_value, '-i', ALIYUN])
        importlib.import_module(mod); return
    except Exception as e2:
        print(f'[WARN] install {spec_value} on Aliyun failed: {e2}')
        raise

def install_descript_audiotools():
    '''descript-audiotools ç‰¹æ®Šå¤„ç†ï¼š
       1) PyPI æœ€æ–°ï¼›2) PyPI 0.7.2ï¼›3) é˜¿é‡Œ 0.7.2
    '''
    mod = 'audiotools'
    try:
        importlib.import_module(mod); return
    except Exception:
        pass
    for spec, idx in [
        ('descript-audiotools', PYPI),
        ('descript-audiotools==0.7.2', PYPI),
        ('descript-audiotools==0.7.2', ALIYUN),
    ]:
        try:
            pip_install([sys.executable, '-m', 'pip', 'install', '-U', spec, '-i', idx])
            importlib.import_module(mod); return
        except Exception as e:
            print(f'[WARN] {spec} via {idx} failed: {e}')
    raise RuntimeError('Failed to install descript-audiotools')

def install_wetextprocessing():
    '''WeTextProcessing æä¾› tn.*ï¼š
       1) PyPI æœ€æ–°ï¼›2) é˜¿é‡Œæœ€æ–°ï¼›å¤±è´¥åˆ™æŠ¥é”™
    '''
    try:
        importlib.import_module('tn'); return
    except Exception:
        pass
    for idx in [PYPI, ALIYUN]:
        try:
            pip_install([sys.executable, '-m', 'pip', 'install', '-U', 'WeTextProcessing', '-i', idx])
            importlib.import_module('tn'); return
        except Exception as e:
            print(f'[WARN] WeTextProcessing via {idx} failed: {e}')
    raise RuntimeError('Failed to install WeTextProcessing (tn)')

def ensure_deps():
    for k, v in PINNED_PKGS.items():
        if k == 'descript-audiotools':
            install_descript_audiotools()
        elif k == 'WeTextProcessing':
            install_wetextprocessing()
        else:
            install_general(k, v)
    # å…³é”®ï¼šç«‹åˆ»éªŒè¯ accelerate
    try:
        import accelerate  # noqa: F401
    except Exception as e:
        print('[FATAL] accelerate ä»ä¸å¯ç”¨ï¼š', e)
        print('è¯·é€€å‡ºå½“å‰è¿›ç¨‹åé‡è·‘æœ¬è„šæœ¬ï¼›æˆ–æ‰‹åŠ¨æ‰§è¡Œï¼š')
        print('  python -m pip install -U 'transformers&gt;=4.44.2' 'accelerate&gt;=0.26.0' 'modelscope&gt;=1.19.0'')
        sys.exit(1)

ensure_deps()

# -------------------- ä¸šåŠ¡é€»è¾‘ --------------------
SCRIPT_DIR = Path(__file__).resolve().parent
sys.path.append(str(SCRIPT_DIR))
sys.path.append(str(SCRIPT_DIR / 'indextts'))

from indextts.infer_v2 import IndexTTS2  # noqa: E402

def find_prompt_audios(in_dir: Path):
    exts = ['*.wav', '*.mp3', '*.flac', '*.m4a', '*.ogg']
    files = []
    for p in exts: files += list(in_dir.glob(p))
    return sorted([p for p in files if p.is_file()], key=lambda x: x.name.lower())

def read_lines(txt: Path):
    with txt.open('r', encoding='utf-8') as f:
        return [ln.strip() for ln in f if ln.strip()]

def safe_stem(p: Path) -&gt; str:
    return p.stem.replace(' ', '_').replace('/', '_').replace('\\', '_')[:80]

def detect_fp16() -&gt; bool:
    try:
        import torch
        return torch.cuda.is_available()
    except Exception:
        return False

def main():
    parser = argparse.ArgumentParser(description='IndexTTS2 æ‰¹é‡ç”Ÿæˆï¼ˆéŸ³é¢‘ Ã— æ–‡æœ¬ï¼‰')
    parser.add_argument('--in_dir', type=str, default='/workspace/index-tts/in', help='è¾“å…¥ç›®å½•ï¼ˆå« 1.txt ä¸å‚è€ƒéŸ³é¢‘ï¼‰')
    parser.add_argument('--out_dir', type=str, default='/workspace/index-tts/out', help='è¾“å‡ºç›®å½•')
    parser.add_argument('--model_dir', type=str, default='/workspace/index-tts/checkpoints', help='æ¨¡å‹ç›®å½•ï¼ˆå« config.yaml ç­‰ï¼‰')
    # ç”Ÿæˆå‚æ•°
    parser.add_argument('--max_text_tokens_per_segment', type=int, default=120)
    parser.add_argument('--do_sample', action='store_true', default=True)
    parser.add_argument('--top_p', type=float, default=0.8)
    parser.add_argument('--top_k', type=int, default=30)
    parser.add_argument('--temperature', type=float, default=0.8)
    parser.add_argument('--num_beams', type=int, default=3)
    parser.add_argument('--repetition_penalty', type=float, default=10.0)
    parser.add_argument('--max_mel_tokens', type=int, default=1500)
    args = parser.parse_args()

    in_dir = Path(args.in_dir).resolve()
    out_dir = Path(args.out_dir).resolve()
    model_dir = Path(args.model_dir).resolve()

    if not in_dir.exists():
        print(f'[ERROR] è¾“å…¥ç›®å½•ä¸å­˜åœ¨ï¼š{in_dir}'); sys.exit(1)
    txt = in_dir / '1.txt'
    if not txt.exists():
        print(f'[ERROR] ç¼ºå°‘æ–‡æœ¬æ–‡ä»¶ï¼š{txt}'); sys.exit(1)
    if not model_dir.exists():
        print(f'[ERROR] æ¨¡å‹ç›®å½•ä¸å­˜åœ¨ï¼š{model_dir}'); sys.exit(1)

    prompts = find_prompt_audios(in_dir)
    texts = read_lines(txt)
    if not prompts:
        print(f'[ERROR] {in_dir} ä¸‹æœªæ‰¾åˆ°éŸ³é¢‘ï¼ˆæ”¯æŒ wav/mp3/flac/m4a/oggï¼‰'); sys.exit(1)
    if not texts:
        print(f'[ERROR] {txt} ä¸ºç©º'); sys.exit(1)

    out_dir.mkdir(parents=True, exist_ok=True)

    use_fp16 = detect_fp16()
    print(f'[INFO] Loading IndexTTS2 ... (fp16={use_fp16})')
    tts = IndexTTS2(
        cfg_path=str(model_dir / 'config.yaml'),
        model_dir=str(model_dir),
        use_fp16=use_fp16,
        use_cuda_kernel=False,
        use_deepspeed=False,
    )
    print(f'[INFO] Model loaded. version={tts.model_version or '1.0'}')

    total = len(prompts) * len(texts)
    idx = 0
    for pa in prompts:
        base = safe_stem(pa)
        for li, text in enumerate(texts, 1):
            idx += 1
            ts = int(time.time() * 1000)
            out_path = out_dir / f'{base}__L{li:03d}__{ts}.wav'
            print(f'[{idx}/{total}] {pa.name} Ã— L{li} -&gt; {out_path.name}')
            try:
                tts.infer(
                    spk_audio_prompt=str(pa),
                    text=text,
                    output_path=str(out_path),
                    emo_audio_prompt=None,
                    emo_alpha=0.65,
                    emo_vector=None,
                    use_emo_text=False,
                    emo_text=None,
                    use_random=False,
                    verbose=False,
                    max_text_tokens_per_segment=int(args.max_text_tokens_per_segment),
                    do_sample=bool(args.do_sample),
                    top_p=float(args.top_p),
                    top_k=int(args.top_k) if int(args.top_k) &gt; 0 else None,
                    temperature=float(args.temperature),
                    length_penalty=0.0,
                    num_beams=int(args.num_beams),
                    repetition_penalty=float(args.repetition_penalty),
                    max_mel_tokens=int(args.max_mel_tokens),
                )
            except Exception as e:
                print(f'[ERROR] ç”Ÿæˆå¤±è´¥ï¼š{e}')

    print(f'[DONE] å…±ç”Ÿæˆ {total} æ¡éŸ³é¢‘ï¼Œè¾“å‡ºç›®å½•ï¼š{out_dir}')

if __name__ == '__main__':
    main()
```ã€‚</description><guid isPermaLink="true">https://realfake.top/post/IndexTTS.html</guid><pubDate>Sun, 28 Sep 2025 13:41:32 +0000</pubDate></item><item><title>RealFakeTop</title><link>https://realfake.top/post/RealFakeTop.html</link><description>## ç®€ä»‹

ä¸“æ³¨äº **æ”¶é›†ä¸æ•´ç†â€œçœŸå® / è™šå‡â€äº’è”ç½‘æ•°æ®å’Œå¼€æºæ•°æ®é›†**ã€‚</description><guid isPermaLink="true">https://realfake.top/post/RealFakeTop.html</guid><pubDate>Fri, 26 Sep 2025 15:54:29 +0000</pubDate></item></channel></rss>